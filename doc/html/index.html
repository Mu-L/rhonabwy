<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rhonabwy: Rhonabwy - JWK library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rhonabwy
   </div>
   <div id="projectbrief">Create, modify, parse or export Json Web Keys as defined in the RFC 7517</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Rhonabwy - JWK library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.com/babelouest/rhonabwy"></a></p>
<p>Create, modify, parse or export Json Web Keys as defined in the <a href="https://tools.ietf.org/html/rfc7517">RFC 7517</a>.</p>
<div class="fragment"><div class="line"><a class="code" href="group__type.html#gac7d996dfabdc443bcd0da0b6574e22ef">jwk_t</a> * jwk;</div><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> jwk_pubkey_ecdsa_str[] = <span class="stringliteral">&quot;{\&quot;kty\&quot;:\&quot;EC\&quot;,\&quot;crv\&quot;:\&quot;P-256\&quot;,\&quot;x\&quot;:\&quot;MKBCTNIcKUSDii11ySs3526iDZ8AiTo7Tu6KPAqv7D4\&quot;,&quot;</span>\</div><div class="line">                                     <span class="stringliteral">&quot;\&quot;y\&quot;:\&quot;4Etl6SRW2YiLUrN5vfvVHuhp7x8PxltmWWlbbM4IFyM\&quot;,\&quot;use\&quot;:\&quot;enc\&quot;,\&quot;kid\&quot;:\&quot;1\&quot;}&quot;</span>;</div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> output[2048];</div><div class="line"><span class="keywordtype">size_t</span> output_len = 2048;</div><div class="line"></div><div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__core.html#ga51002a5b647d281567d42c28bf79d5c8">r_init_jwk</a>(&amp;jwk) == <a class="code" href="group__const.html#ga3fc690cb1d601c13fce959aff60de0d7">RHN_OK</a>) {</div><div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__import.html#ga19c4a32dc17dc0c11a452b177c83b1aa">r_jwk_import_from_json_str</a>(jwk, jwk_pubkey_ecdsa_str) == <a class="code" href="group__const.html#ga3fc690cb1d601c13fce959aff60de0d7">RHN_OK</a>) {</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group__export.html#ga74345c97b9d9df7ed96e8fe691818ad1">r_jwk_export_to_pem_der</a>(jwk, <a class="code" href="group__const.html#gadf1b327996f4bf1fd1e9ae7a4a29f8f5">R_FORMAT_PEM</a>, output, &amp;output_len) == <a class="code" href="group__const.html#ga3fc690cb1d601c13fce959aff60de0d7">RHN_OK</a>) {</div><div class="line">      printf(<span class="stringliteral">&quot;exported key:\n%.*s\n&quot;</span>, output_len, output);</div><div class="line">    }</div><div class="line">  }</div><div class="line">  <a class="code" href="group__core.html#ga9771b27bc48e64b9ae82c9158bcff2c4">r_free_jwk</a>(jwk);</div><div class="line">}</div></div><!-- fragment --><h1>Installation</h1>
<h2>Pre-compiled packages</h2>
<p>You can install Rhonabwy with a pre-compiled package available in the <a href="https://github.com/babelouest/rhonabwy/releases/latest/">release pages</a>.</p>
<h2>Manual install</h2>
<h3>Prerequisites</h3>
<p>You must install <a href="https://github.com/babelouest/orcania">liborcania</a>, <a href="https://github.com/babelouest/yder">librhonabwy</a>, <a href="http://www.digip.org/jansson/">jansson</a> and <a href="https://www.gnutls.org/">GnuTLS</a> first before building librhonabwy. Orcania and Yder will be automatically installed if missing and you're using cmake.</p>
<h3>CMake - Multi architecture</h3>
<p><a href="https://cmake.org/download/">CMake</a> minimum 3.5 is required.</p>
<p>Run the cmake script in a subdirectory, example:</p>
<div class="fragment"><div class="line">$ git clone https://github.com/babelouest/rhonabwy.git</div><div class="line">$ cd rhonabwy/</div><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake ..</div><div class="line">$ make &amp;&amp; sudo make install</div></div><!-- fragment --><p>The available options for cmake are:</p><ul>
<li><code>-DWITH_JOURNALD=[on|off]</code> (default <code>on</code>): Build with journald (SystemD) support</li>
<li><code>-BUILD_RHONABWY_TESTING=[on|off]</code> (default <code>off</code>): Build unit tests</li>
<li><code>-DINSTALL_HEADER=[on|off]</code> (default <code>on</code>): Install header file <code><a class="el" href="rhonabwy_8h.html" title="Rhonabwy JSON Web Key (JWK) library. ">rhonabwy.h</a></code></li>
<li><code>-DBUILD_RPM=[on|off]</code> (default <code>off</code>): Build RPM package when running <code>make package</code></li>
<li><code>-DCMAKE_BUILD_TYPE=[Debug|Release]</code> (default <code>Release</code>): Compile with debugging symbols or not</li>
</ul>
<h3>Good ol' Makefile</h3>
<p>Download rhonabwy from github repository, compile and install.</p>
<div class="fragment"><div class="line">$ git clone https://github.com/babelouest/rhonabwy.git</div><div class="line">$ cd rhonabwy/src</div><div class="line">$ make</div><div class="line">$ sudo make install</div></div><!-- fragment --><p>By default, the shared library and the header file will be installed in the <code>/usr/local</code> location. To change this setting, you can modify the <code>DESTDIR</code> value in the <code>src/Makefile</code>.</p>
<p>Example: install rhonabwy in /tmp/lib directory</p>
<div class="fragment"><div class="line">$ cd src</div><div class="line">$ make &amp;&amp; make DESTDIR=/tmp install</div></div><!-- fragment --><p>You can install Rhonabwy without root permission if your user has write access to <code></code>. A <code>ldconfig</code> command is executed at the end of the install, it will probably fail if you don't have root permission, but this is harmless. If you choose to install Rhonabwy in another directory, you must set your environment variable <code>LD_LIBRARY_PATH</code> properly.</p>
<h1>API Documentation</h1>
<p>Documentation is available in the documentation page: <a href="https://babelouest.github.io/rhonabwy/doc/html/">https://babelouest.github.io/rhonabwy/doc/html/</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
